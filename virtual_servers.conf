# for ever conf in vh.d add blob here
# --gautam
<Macro MACRO_DEFAULT @{MACRO_VH_URL_FQDN} @{MACRO_VH_URL_SHORT} @{MACRO_VH_DOCROOT} @{MACRO_VH_WEBMASTER}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh.macro
    Use MACRO_VH_DEFAULT  ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH_DEFAULT
  </VirtualHost>
</Macro>


<Macro MACRO_SSL @{MACRO_VH_URL_FQDN} @{MACRO_VH_URL_SHORT} @{MACRO_VH_DOCROOT} @{MACRO_VH_WEBMASTER}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_ssl_redirector.macro
    Use MACRO_VH_SSL_REDIRECTOR ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT}
    UndefMacro MACRO_VH_SSL_REDIRECTOR
  </VirtualHost>
  <VirtualHost ${EIF_APACHE_CONF_LISTENSSL}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_ssl.macro
    Use MACRO_VH_SSL ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH_SSL
  </VirtualHost>
</Macro>


<Macro MACRO_TOMCAT_STANDALONE @{MACRO_VH_URL_FQDN} @{MACRO_VH_URL_SHORT} @{MACRO_VH_DOCROOT} @{MACRO_VH_WEBMASTER} ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh.macro
    Use MACRO_VH_DEFAULT  ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH_DEFAULT
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_snippet_tomcat_standalone.macro
    Use MACRO_SNIPPET_TOMCAT_STANDALONE ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME}
    UndefMacro MACRO_SNIPPET_TOMCAT_STANDALONE
  </VirtualHost>
</Macro>

<Macro MACRO_TOMCAT_CLUSTER @{MACRO_VH_URL_FQDN} @{MACRO_VH_URL_SHORT} @{MACRO_VH_DOCROOT} @{MACRO_VH_WEBMASTER} ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME} ${MACRO_VH_PROXY2_HOSTPORT} ${MACRO_VH_PROXY2_NAME}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh.macro
    Use MACRO_VH_DEFAULT  ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH_DEFAULT
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_snippet_tomcat_cluster.macro
    Use MACRO_SNIPPET_TOMCAT_CLUSTER ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME} ${MACRO_VH_PROXY2_HOSTPORT} ${MACRO_VH_PROXY2_NAME}
    UndefMacro MACRO_SNIPPET_TOMCAT_CLUSTER
  </VirtualHost>
</Macro>

<Macro MACRO_TOMCAT_STANDALONE_SSL @{MACRO_VH_URL_FQDN} @{MACRO_VH_URL_SHORT} @{MACRO_VH_DOCROOT} @{MACRO_VH_WEBMASTER} ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_ssl_redirector.macro
    Use MACRO_VH_SSL_REDIRECTOR ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT}
    UndefMacro MACRO_VH_SSL_REDIRECTOR
  </VirtualHost>

  <VirtualHost ${EIF_APACHE_CONF_LISTENSSL}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_ssl.macro
    Use MACRO_VH_SSL ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH_SSL
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_snippet_tomcat_standalone.macro
    Use MACRO_SNIPPET_TOMCAT_STANDALONE ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME}
    UndefMacro MACRO_SNIPPET_TOMCAT_STANDALONE
  </VirtualHost>
</Macro>

<Macro MACRO_TOMCAT_CLUSTER_SSL @{MACRO_VH_URL_FQDN} @{MACRO_VH_URL_SHORT} @{MACRO_VH_DOCROOT} @{MACRO_VH_WEBMASTER} ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME} ${MACRO_VH_PROXY2_HOSTPORT} ${MACRO_VH_PROXY2_NAME}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_ssl_redirector.macro
    Use MACRO_VH_SSL_REDIRECTOR ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT}
    UndefMacro MACRO_VH_SSL_REDIRECTOR
  </VirtualHost>
  <VirtualHost ${EIF_APACHE_CONF_LISTENSSL}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_ssl.macro
    Use MACRO_VH_SSL ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH_SSL
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_snippet_tomcat_cluster.macro
    Use MACRO_SNIPPET_TOMCAT_CLUSTER ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME} ${MACRO_VH_PROXY2_HOSTPORT} ${MACRO_VH_PROXY2_NAME}
    UndefMacro MACRO_SNIPPET_TOMCAT_CLUSTER
  </VirtualHost>
</Macro>


## old way
#<virtualhost ${EIF_APACHE_CONF_LISTEN}>
#  Include ${EIF_APACHE_CONFDIR}/vh.d/myweb.conf
#</virtualhost>

## new way simple website
# Use MACRO_DEFAULT myweb.cisco.com myweb /auto/myweb mywebmaster@cisco.com

## new way simple ssl website
# Use MACRO_SSL myweb.cisco.com myweb /auto/myweb mywebmaster@cisco.com

## new way tomcat standalone & cluster
# Use MACRO_TOMCAT_STANDALONE myweb.cisco.com myweb /auto/myweb mywebmaster@cisco.com backend-host1:8838 myweb_1_1
# Use MACRO_TOMCAT_CLUSTER myweb.cisco.com myweb /auto/myweb mywebmaster@cisco.com backend-host1:8838 myweb_1_1 backend-host2:8838 myweb_2_1

## new way tomcat standalone & cluster with SSL
# Use MACRO_TOMCAT_STANDALONE_SSL myweb.cisco.com myweb /auto/myweb mywebmaster@cisco.com backend-host1:8838 myweb_1_1
# Use MACRO_TOMCAT_CLUSTER_SSL myweb.cisco.com myweb /auto/myweb mywebmaster@cisco.com backend-host1:8838 myweb_1_1 backend-host2:8838 myweb_2_1
