# for every conf in vh.d add blob here
# --gautam
# Macro definitions...


<Macro MACRO_DEFAULT ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh.macro
    Use MACRO_VH  ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH
  </VirtualHost>
</Macro>

<Macro MACRO_DEFAULT_SSO ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_sso.macro
    Use MACRO_VH  ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH
    <Location />
      Include ${EIF_APACHE_CONFDIR}/auth.conf
      <Limit GET POST>
        Require valid-user
      </Limit>
    </Location>
  </VirtualHost>
</Macro>

<Macro MACRO_SSL ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_ssl_redirector.macro
    Use MACRO_VH_SSL_REDIRECTOR ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT}
    UndefMacro MACRO_VH_SSL_REDIRECTOR
  </VirtualHost>
  <VirtualHost ${EIF_APACHE_CONF_LISTENSSL}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_ssl.macro
    Use MACRO_VH_SSL ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH_SSL
  </VirtualHost>
</Macro>

<Macro MACRO_PROXY_STANDALONE ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER} ${MACRO_VH_PROXY_PATH} ${MACRO_VH_PROXY_BACKEND}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh.macro
    Use MACRO_VH  ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH
    ProxyPass ${MACRO_VH_PROXY_PATH} ${MACRO_VH_PROXY_BACKEND}
    <Location />
      Include ${EIF_APACHE_CONFDIR}/auth.conf
      <Limit GET POST>
        Require valid-user
      </Limit>
    </Location>
  </VirtualHost>
</Macro>

<Macro MACRO_PROXY_STANDALONE_SSO ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER} ${MACRO_VH_PROXY_PATH} ${MACRO_VH_PROXY_BACKEND}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh.macro
    Use MACRO_VH  ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH
    ProxyPass ${MACRO_VH_PROXY_PATH} ${MACRO_VH_PROXY_BACKEND}
  </VirtualHost>
</Macro>

<Macro MACRO_TOMCAT_STANDALONE ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER} ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh.macro
    Use MACRO_VH  ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_snippet_tomcat_standalone.macro
    Use MACRO_SNIPPET_TOMCAT_STANDALONE ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME}
    UndefMacro MACRO_SNIPPET_TOMCAT_STANDALONE
  </VirtualHost>
</Macro>


<Macro MACRO_TOMCAT_CLUSTER ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER} ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME} ${MACRO_VH_PROXY2_HOSTPORT} ${MACRO_VH_PROXY2_NAME}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh.macro
    Use MACRO_VH  ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_snippet_tomcat_cluster.macro
    Use MACRO_SNIPPET_TOMCAT_CLUSTER ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME} ${MACRO_VH_PROXY2_HOSTPORT} ${MACRO_VH_PROXY2_NAME}
    UndefMacro MACRO_SNIPPET_TOMCAT_CLUSTER
  </VirtualHost>
</Macro>


<Macro MACRO_TOMCAT_STANDALONE_SSL ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER} ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_ssl_redirector.macro
    Use MACRO_VH_SSL_REDIRECTOR ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT}
    UndefMacro MACRO_VH_SSL_REDIRECTOR
  </VirtualHost>
  <VirtualHost ${EIF_APACHE_CONF_LISTENSSL}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_ssl.macro
    Use MACRO_VH_SSL ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH_SSL
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_snippet_tomcat_standalone.macro
    Use MACRO_SNIPPET_TOMCAT_STANDALONE ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME}
    UndefMacro MACRO_SNIPPET_TOMCAT_STANDALONE
  </VirtualHost>
</Macro>


<Macro MACRO_TOMCAT_CLUSTER_SSL ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER} ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME} ${MACRO_VH_PROXY2_HOSTPORT} ${MACRO_VH_PROXY2_NAME}>
  <VirtualHost ${EIF_APACHE_CONF_LISTEN}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_ssl_redirector.macro
    Use MACRO_VH_SSL_REDIRECTOR ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT}
    UndefMacro MACRO_VH_SSL_REDIRECTOR
  </VirtualHost>
  <VirtualHost ${EIF_APACHE_CONF_LISTENSSL}>
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_ssl.macro
    Use MACRO_VH_SSL ${MACRO_VH_URL_FQDN} ${MACRO_VH_URL_SHORT} ${MACRO_VH_DOCROOT} ${MACRO_VH_WEBMASTER}
    UndefMacro MACRO_VH_SSL
    Include ${EIF_APACHE_CONFDIR}/vh.d/vh_snippet_tomcat_cluster.macro
    Use MACRO_SNIPPET_TOMCAT_CLUSTER ${MACRO_VH_PROXY1_HOSTPORT} ${MACRO_VH_PROXY1_NAME} ${MACRO_VH_PROXY2_HOSTPORT} ${MACRO_VH_PROXY2_NAME}
    UndefMacro MACRO_SNIPPET_TOMCAT_CLUSTER
  </VirtualHost>
</Macro>

<Macro MACRO_REDIRECTOR ${SRC_URL} ${SRC_URL_SHORT} ${DEST_URL}>
  Include ${EIF_APACHE_CONFDIR}/vh.d/vh_redirector.macro
  Use MACRO_VH_REDIRECTOR ${SRC_URL} ${SRC_URL_SHORT} ${DEST_URL}
  UndefMacro MACRO_VH_REDIRECTOR
</Macro>



#----------------------------------------------------------------#
#
#  ▒█████   ██▓    ▓█████▄     █     █░ ▄▄▄     ▓██   ██▓
# ▒██▒  ██▒▓██▒    ▒██▀ ██▌   ▓█░ █ ░█░▒████▄    ▒██  ██▒
# ▒██░  ██▒▒██░    ░██   █▌   ▒█░ █ ░█ ▒██  ▀█▄   ▒██ ██░
# ▒██   ██░▒██░    ░▓█▄   ▌   ░█░ █ ░█ ░██▄▄▄▄██  ░ ▐██▓░
# ░ ████▓▒░░██████▒░▒████▓    ░░██▒██▓  ▓█   ▓██▒ ░ ██▒▓░
# ░ ▒░▒░▒░ ░ ▒░▓  ░ ▒▒▓  ▒    ░ ▓░▒ ▒   ▒▒   ▓▒█░  ██▒▒▒
#   ░ ▒ ▒░ ░ ░ ▒  ░ ░ ▒  ▒      ▒ ░ ░    ▒   ▒▒ ░▓██ ░▒░
# ░ ░ ░ ▒    ░ ░    ░ ░  ░      ░   ░    ░   ▒   ▒ ▒ ░░
#     ░ ░      ░  ░   ░           ░          ░  ░░ ░
#                   ░                            ░ ░
#                (DONT USE THIS ANYMORE)
#----------------------------------------------------------------#
#  The old way of doing the vh confs....                         #
#----------------------------------------------------------------#
#================================================================#
# <virtualhost ${EIF_APACHE_CONF_LISTEN}>
#   Include ${EIF_APACHE_CONFDIR}/vh.d/myweb.conf
# </virtualhost>
#
#================================================================#





#----------------------------------------------------------------#
#
# ███╗   ██╗███████╗██╗    ██╗    ██╗    ██╗ █████╗ ██╗   ██╗
# ████╗  ██║██╔════╝██║    ██║    ██║    ██║██╔══██╗╚██╗ ██╔╝
# ██╔██╗ ██║█████╗  ██║ █╗ ██║    ██║ █╗ ██║███████║ ╚████╔╝
# ██║╚██╗██║██╔══╝  ██║███╗██║    ██║███╗██║██╔══██║  ╚██╔╝
# ██║ ╚████║███████╗╚███╔███╔╝    ╚███╔███╔╝██║  ██║   ██║
# ╚═╝  ╚═══╝╚══════╝ ╚══╝╚══╝      ╚══╝╚══╝ ╚═╝  ╚═╝   ╚═╝
#
#----------------------------------------------------------------#
# new way simple website
#----------------------------------------------------------------#
# Use MACRO_DEFAULT myweb.cisco.com myweb /auto/myweb mywebmaster@cisco.com

#----------------------------------------------------------------#
# new simple redirector
#  + redirects myweb           -> http://wwwin-myweb.cisco.com
#  + redirects myweb.cisco.com -> http://wwwin-myweb.cisco.com
#----------------------------------------------------------------#
# Use MACRO_REDIRECTOR myweb.cisco.com myweb wwwin-myweb.cisco.com

#----------------------------------------------------------------#
# new way simple ssl website
#----------------------------------------------------------------#
# Use MACRO_SSL myweb.cisco.com myweb /auto/myweb mywebmaster@cisco.com

#----------------------------------------------------------------#
# new way tomcat standalone & cluster
#----------------------------------------------------------------#
# Use MACRO_TOMCAT_STANDALONE myweb.cisco.com myweb /auto/myweb mywebmaster@cisco.com backend-host1:8838 myweb_1_1
# Use MACRO_TOMCAT_CLUSTER myweb.cisco.com myweb /auto/myweb mywebmaster@cisco.com backend-host1:8838 myweb_1_1 backend-host2:8838 myweb_2_1

#----------------------------------------------------------------#
# new way tomcat standalone & cluster with SSL
#----------------------------------------------------------------#
# Use MACRO_TOMCAT_STANDALONE_SSL myweb.cisco.com myweb /auto/myweb mywebmaster@cisco.com backend-host1:8838 myweb_1_1
# Use MACRO_TOMCAT_CLUSTER_SSL myweb.cisco.com myweb /auto/myweb mywebmaster@cisco.com backend-host1:8838 myweb_1_1 backend-host2:8838 myweb_2_1

#----------------------------------------------------------------#
#Use MACRO_DEFAULT wwwin-devicereserve.cisco.com wwwin-devicereserve /opt/eif/web/common/synced/www-home/virtual/wwwin-devicereserve eifweb@cisco.com

#================================================================#
# Examples:
# Use MACRO_DEFAULT umbrella-notice.cisco.com  umbrella-notice /auto/umbsecen/websites/umbrellair umbrella-sec.webmasters@cisco.com
# Use MACRO_DEFAULT_SSO umbrella-notice.cisco.com  umbrella-notice /auto/umbsecen/websites/umbrellair umbrella-sec.webmasters@cisco.com
#================================================================#








